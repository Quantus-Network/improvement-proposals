<pre>
  QIP: 10
  Title: Reversible Transactions
  Author: Chris Smith <chris@quantus.com>
  Comments-Summary: No comments yet.
  Comments-URI: https://github.com/Quantus-Network/improvement-proposals/discussions/
  Status: Draft
  Type: Standards
  Created: 2025-08-11
</pre>

## Abstract

This document describes a simple reversible transaction scheme that allows a user to set a time window during which their transaction can be reversed by the sender. Sender wallets show the outgoing transaction with a countdown until completion along with a cancel button. Recipients can see the incoming transaction with same countdown indicating when it will complete if it is not cancelled.

## Motivation

The irreversibility of blockchain transactions is a double-edged sword. On the one hand, irreversibility gives certainty to recipients: once the transaction has been mined / finalized, it cannot be reversed. This is in contrast to credit cards, which can cost merchants quite a lot if many customers do "charge-backs", or other layers of the legacy financial system, which have a "settlement time" that can sometimes take weeks. In general the quick finality of blockchain transactions lubricates the flow of commerce.

On the other hand, the irreversibility means that thefts or mistakes cannot easily be corrected. Many high-profile thefts have succeeded even when detected immediately. User-configuration of reversibility is a building-block upon which many novel security protocols can be built.

## Specification

Substrate has a battle-tested [scheduler-pallet](https://github.com/paritytech/polkadot-sdk/tree/master/substrate/frame/scheduler) that handles scheduling of future transactions. Although it is typically used for governance in Polkadot, it is agnostic to transaction type.

We use a [modified scheduler](qip-0009.md) that uses timestamps for scheduling instead of blocknumber, for better user experience. A [simple interface](https://github.com/Quantus-Network/chain/blob/main/pallets/reversible-transfers/src/lib.rs#L399) allows clients to schedule transfers with a given delay.

To cancel a transaction, call [cancel_transfer](https://github.com/Quantus-Network/chain/blob/main/pallets/reversible-transfers/src/lib.rs#L695).

## Reference Implementation

Reversible transactions are implemented [here](https://github.com/Quantus-Network/chain/tree/main/pallets/reversible-transfers).

## Rationale

Calling into the scheduler is [fairly complex](https://github.com/Quantus-Network/chain/blob/main/pallets/reversible-transfers/src/lib.rs#L588) so we wrap it in a simple interface.

## Copyright

This specification is released into the public domain.
